{"ast":null,"code":"import \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\nimport \"antd/lib/menu/style\";\nimport _Menu from \"antd/lib/menu\";\nvar _jsxFileName = \"/Users/yoshiji/webdev/javascript/self_creation/ui_next/src/pages/index.tsx\";\nvar __jsx = React.createElement;\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport DefaultLayout from \"~/layouts/default\";\nimport subMenus from \"~/data/subMenus\";\nimport { DndProvider } from \"react-dnd\";\nimport Backend from \"react-dnd-html5-backend\";\nimport DnDContainer from \"~/components/DnDContainer\";\nimport update from \"immutability-helper\";\nimport MaterialButton from \"@material-ui/core/Button\";\nvar SubMenu = _Menu.SubMenu;\nvar Sider = _Layout.Sider;\n\nvar IndexPage = function IndexPage() {\n  var _useState = useState({\n    a: {\n      top: 20,\n      left: 80,\n      title: \"Drag me around\",\n      jsx: __jsx(MaterialButton, {\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"hogehoeg\")\n    },\n    b: {\n      top: 180,\n      left: 20,\n      title: \"Drag me too\",\n      jsx: __jsx(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"fugafuga\")\n    }\n  }),\n      boxes = _useState[0],\n      setBoxes = _useState[1];\n\n  var makeId = function makeId(length) {\n    var result = \"\";\n    var characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    var charactersLength = characters.length;\n\n    for (var i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n\n    return result;\n  };\n\n  var addDnDBox = function addDnDBox(title) {\n    var key = makeId(5);\n    setBoxes(update(boxes, {\n      $merge: _defineProperty({}, key, {\n        top: 180,\n        left: 20,\n        title: title,\n        jsx: __jsx(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"hogehoge\")\n      })\n    }));\n  };\n\n  return __jsx(DefaultLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, __jsx(_Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, __jsx(Sider, {\n    width: 200,\n    style: {\n      background: \"#fff\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, __jsx(_Menu, {\n    mode: \"inline\",\n    defaultSelectedKeys: [\"1\"],\n    defaultOpenKeys: [\"sub1\"],\n    style: {\n      height: \"100%\",\n      borderRight: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, subMenus.map(function (subMenu, subMenuIndex) {\n    return __jsx(SubMenu, {\n      key: subMenuIndex,\n      title: __jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, __jsx(_Icon, {\n        type: subMenu.iconType,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), subMenu.title),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, subMenu.menuItems.map(function (item, itemIndex) {\n      return __jsx(_Menu.Item, {\n        key: \"\".concat(subMenuIndex, \"-\").concat(itemIndex),\n        onClick: function onClick() {\n          return addDnDBox(item.title);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, item.title);\n    }));\n  }))), __jsx(DndProvider, {\n    backend: Backend,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, __jsx(DnDContainer, {\n    hideSourceOnDrag: true,\n    boxes: boxes,\n    setBoxes: setBoxes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }))));\n};\n\nexport default IndexPage;","map":{"version":3,"sources":["/Users/yoshiji/webdev/javascript/self_creation/ui_next/src/pages/index.tsx"],"names":["React","useState","DefaultLayout","subMenus","DndProvider","Backend","DnDContainer","update","MaterialButton","SubMenu","Sider","IndexPage","a","top","left","title","jsx","b","boxes","setBoxes","makeId","length","result","characters","charactersLength","i","charAt","Math","floor","random","addDnDBox","key","$merge","background","height","borderRight","map","subMenu","subMenuIndex","iconType","menuItems","item","itemIndex"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { useState } from \"react\";\nimport { Layout, Menu, Icon } from \"antd\";\nimport DefaultLayout from \"~/layouts/default\";\nimport { NextPage } from \"next\";\nimport { TMenuItem, TSubMenu } from \"~/interfaces/menu\";\nimport subMenus from \"~/data/subMenus\";\nimport { DndProvider } from \"react-dnd\";\nimport Backend from \"react-dnd-html5-backend\";\nimport DnDContainer from \"~/components/DnDContainer\";\nimport update from \"immutability-helper\";\nimport MaterialButton from \"@material-ui/core/Button\";\n\nconst { SubMenu } = Menu;\nconst { Sider } = Layout;\n\nexport type TBox = {\n  top: number;\n  left: number;\n  title: string;\n  jsx: JSX.Element; // TODO 直す！！！！！！\n};\n\nexport type IndexPageState = {\n  boxes: {\n    [key: string]: TBox;\n  };\n};\n\nconst IndexPage: NextPage = () => {\n  const [boxes: string, setBoxes] = useState<IndexPageState[\"boxes\"]>({\n    a: {\n      top: 20,\n      left: 80,\n      title: \"Drag me around\",\n      jsx: (\n        <MaterialButton variant=\"contained\" color=\"primary\">\n          hogehoeg\n        </MaterialButton>\n      )\n    },\n    b: {\n      top: 180,\n      left: 20,\n      title: \"Drag me too\",\n      jsx: <h2>fugafuga</h2>\n    }\n  });\n\n  const makeId = (length: number): string => {\n    let result = \"\";\n    const characters =\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    const charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  };\n\n  const addDnDBox = (title: string): void => {\n    const key = makeId(5);\n    setBoxes(\n      update(boxes, {\n        $merge: {\n          [key]: {\n            top: 180,\n            left: 20,\n            title,\n            jsx: <h3>hogehoge</h3>\n          }\n        }\n      })\n    );\n  };\n\n  return (\n    <DefaultLayout>\n      <Layout>\n        <Sider width={200} style={{ background: \"#fff\" }}>\n          <Menu\n            mode=\"inline\"\n            defaultSelectedKeys={[\"1\"]}\n            defaultOpenKeys={[\"sub1\"]}\n            style={{ height: \"100%\", borderRight: 0 }}\n          >\n            {subMenus.map((subMenu: TSubMenu, subMenuIndex: number) => (\n              <SubMenu\n                key={subMenuIndex}\n                title={\n                  <span>\n                    <Icon type={subMenu.iconType} />\n                    {subMenu.title}\n                  </span>\n                }\n              >\n                {subMenu.menuItems.map((item: TMenuItem, itemIndex: number) => (\n                  <Menu.Item\n                    key={`${subMenuIndex}-${itemIndex}`}\n                    onClick={(): void => addDnDBox(item.title)}\n                  >\n                    {item.title}\n                  </Menu.Item>\n                ))}\n              </SubMenu>\n            ))}\n          </Menu>\n        </Sider>\n        <DndProvider backend={Backend}>\n          <DnDContainer\n            hideSourceOnDrag={true}\n            boxes={boxes}\n            setBoxes={setBoxes}\n          />\n        </DndProvider>\n      </Layout>\n    </DefaultLayout>\n  );\n};\n\nexport default IndexPage;\n"]},"metadata":{},"sourceType":"module"}